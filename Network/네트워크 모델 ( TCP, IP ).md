---
sticker: emoji//1f5b1-fe0f
---
#### 네트워크 계층 모델 
- TCP/IP 계층
	- 현재의 인터넷에서 컴퓨터들이 서로 정보를 주고받는데 쓰이는 통신 규약
- 1계층~4계층까지 각각 네트워크 인터페이스, 네트워크, 전송, 응용으로 나뉜다.

#### OST 7계층
- 네트워크 통신을 체계적으로 다루는 ISO에서 표준으로 지정한 모델.
- 데이터를 주고받을 때 데이터 자체의 흐름을 각 구간별로 나눠 놓은 것.
- 네트워크 패킷들은 사실 TCP/IP에 더 맞는다.

|계층|분류|
|----|----|
|7계층 : 응용|HTTP, SMTP, SSH|
|6계층 : 표현|XDR|
|5계층 : 세션|NetBIOS|
|4계층 : 전송|TCP, UDP, SPX|
|3계층 : 네트워크|IP, ICMP, ARP|
|2계층 : 데이터 링크|Ethernet|
|1계층 : 물리|전선, 동축케이블|

#### 계층별
[[2계층 데이터링크]]
[[3계층 데이터링크]]
[[4계층 데이터링크]]
### TCP/IP 모델과 OSI 모델의 공통점 및 차이점
#### 공통점
- 네트워크를 계층으로 나눴다
- 계층마다 역할을 정의하다
#### 차이점
- 계층의 수 차이
- OSI는 역할 기반, TCP/IP는 프로토콜 기반
- OSI는 통신 전반에 대한 표준 
- TCP/IP는 데이터 전송기술 특화
- OSI는 논리적이고 TCP/IP는 실무적인 느낌. 실제로 네트워크 프로토콜을 일일히 캡쳐해서 보면 TCP/IP에 가까움
- TCP/IP의 1계층이 OSI모델에선 1,2계층으로 나뉘어져있다. 너무 세분화해서 나눔
- HTTP도 7계층이라 표현했지만 하나의 프로토콜 안에 응용, 표현, 세션이 다 들어가있음
- 하지만 우리나라의 웬만한 시험, 면접에선 TCP/IP보다 OSI 7계층에 대해 물어봄

### 패킷
- 네트워크 상에서 전달되는 모든 데이터의 통칭.
- 데이터의 형식화된 하나의 블록단위
- 패킷 안에는 제어 정보와 사용자 데이터로 이루어짐 (누가 누구에게 보내는지, 어떻게 어떤 데이터를, 뭘 요청하는지 등)
- 패킷은 여러 프로토콜의 조합 (마트료시카 인형)

#### 패킷의 형태

- 기본형태

|헤더|페이로드|풋터|
|----|----|----|

풋터는 1가지 경우 빼고 사용 안 하고 헤더+페이로드만 사용한다. (1가지 : Ethernet 프로토콜)

ex)

|Ethernet|IPv4|TCP|HTTP|
|----|----|----|----|
1. 위의 경우에 HTTP프로토콜을 페이로드로 해서 TCP라는 헤더를 붙임. 이러면 하나의 패킷이 됨
2. 다시 패킷 1의 패킷을 페이로드로 해서 IPv4를 헤더를 붙임.
3. 2의 패킷을 페이로드로해서 Ethernet 프로토콜을 헤더로 붙임. 패킷의 형태는 정해져있지 않고 계속 붙을 수 있다.

|          |      |     |        | 
| -------- | ---- | --- | ------ |
|          |      | ↙   | 데이터 |
|          | ↙    | TCP | 데이터 |
| ↙        | IPv4 | TCP | 데이터 |
| Ethernet | IPv4 | TCP | 데이터 |

캡슐화 과정에서 상위계층에서 하위계층으로 내려가면서 프로토콜을 붙인다. 하위프로토콜 앞에 상위 프로토콜이 올 수 없다. OSI 계층으로 나누면 TCP는 4계층 IPv4는 3계층 Ethernet은 2계층이다.

> [!NOTE]
> 페이로드에 프로토콜을 헤더에 붙이는 과정을 캡슐화라고 한다. 누군가에게 패킷을 보낼 때 사용한다. 반대로 패킷을 받을 때는 프로토콜을 하나씩 확인하면서 데이터를 확인하는 과정을 디캡슐화라고 한다. 확인을 할 때는 반대로 Ethernet부터 시작해서 하나씩 확인하여 페이로드를 확인한다.

각각의 계층에서 패킷을 부르는 용어가 다르다.
패킷은 인터넷에서 네트워크 망을 통하여 왔다갔다하는 네트워크 데이터를 통칭해서 부르는 말이지만 계층에 따라 용어가 다르다
- 세그먼트 (4계층) - TCP+데이터 만 붙어있음
- 패킷 (3계층) - 통칭해서 말하는 패킷과는 다름. IPv4 + TCP + 데이터
- 프레임 (2계층) - Ethernet + IPv4 + TCP + 데이터


[[네트워크 포괄]]
