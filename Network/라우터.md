#### 라우터
라우팅은 네트워크에서 미리 정해진 규칙을 사용하여 최상의 경로를 선택하는 프로세스. 노드와 노드를 연결하는 경로 또는 링크. 

#### 라우터의 역할
- 경로 결정
	- 소스에서 대상으로 이동하는 데이터의 경로를 결정. 지연, 용량 및 속도와 같은 네트워크 지표를 분석하여 최상의 경로를 찾으려고 시도
- 데이터 전달
	- 선택한 경로의 다음 디바이스로 데이터를 전달
- 로드 밸런싱
	- 여러 경로를 사용하여 동일한 데이터 패킷의 여러 사본을 전송. (데이터 손실로 인한 오류를 줄이고 이중화를 구현하고 트래픽 볼륨을 관리)
	- 처리해야 할 업무나 요청을 중앙처리장치 또는 저장 장치와 같은 컴퓨터 자원에 작업을 분산하는 것을 의미합니다. 클라이언트의 요청을 일관성 있게 응답하기 위해 외부로부터 들어오는 요청을 서버에 적절히 배분하여 요청을 처리하도록 합니다. 예를 들어, 이지미디어에서 외부로부터 처리해야 할 업무를 받아 나누어 주는 행위도 로드밸런싱이라고 볼 수 있습니다. 다수의 사람들이 작업을 나누어 처리하기 때문에 지연 없이 작업을 처리하고 속도를 낼 수 있습니다. 우리가 외부로부터의 요청을 처음부터 직접 받지 않는 것처럼, 서버도 직접 요청을 받는 것이 아닌 ‘로드밸런서’가 받아 서버에 적절히 나누어 줍니다.
	- 유며하게는 L4 로드밸런서와 L7 로드밸런서가 있는데 상위계층으로 갈수록 섬세하게 가능한만큼 비싸진다. L4는 IP, 포트, MAC 주소, 전송 프로토콜에따라 가능. L7은 HTTP헤더, 쿠키같은 사용자의 요청을 기준으로 보다 세분화해서 전달. 

##### 로드밸런싱의 종류
1. Scale-Up : 장비를 업그레이드 하는 방식
2. Scale-Down : 기존 서버와 동일하거나 더 낮은 두 대 이상으로 정설. 이 경우 여러대의 서버로 트래픽을 균등하게 분산.

![](https://i.imgur.com/OpGlU87.png)
(로드 밸런싱)

### 홉
- 라우터와 라우터 간의 패킷 이동 과정
- 홉 바이 홉 라우팅

#### 라우팅 과정
데이터는 데이터 패킷의 형태로 네트워크를 통해 이동. 패킷의 의도된 대상에 대한 정보가 포함된 헤더가 있어 패킷이 대상으로 이동하는 동안 여러 라우터가 패킷을 여러 번 라우팅.
데이터 패킷이 도착하면 라우터가 라우팅 테이블에서 그 주소를 찾습니다. 이는 가장 적합한 버스 노선을 찾기 위해 버스 시간표를 참조하는 승객에 비유할 수 있습니다. 그런 다음 라우터는 패킷을 네트워크의 다음 지점으로 전달하거나 이동합니다.

예를 들어 사무실에서 웹 사이트를 방문시, 데이터 패킷이 먼저 사무실 네트워크 라우터로 이동합니다. 라우터가 헤더 패킷을 조회하고 패킷 대상을 결정합니다. 그런 다음 내부 테이블을 조회하고, 네트워크 자체 내에서 패킷을 다음 라우터로 전달하거나 프린터와 같은 다른 디바이스로 전달.

#### 라우팅 유형
- 정적 라우팅
	- 네트워크 관리자가 정적 테이블을 사용하여 네트워크 경로를 수동으로 구성하고 선택. 네트워크 설계나 파라미터가 일정하게 유지될 것으로 예상되는 경우에 유용
- 동적 라우팅
	-  실제 네트워크 조건에 따라 런타임에 라우팅 테이블을 만들고 업데이트. 동적 라우팅 테이블을 만들고 유지 관리하고 업데이트하는 규칙 집합인 동적 라우팅 프로토콜을 사용하여 소스에서 대상까지 가장 빠른 경로를 찾으려고 시도합니다.
	- 동적 라우팅의 가장 큰 장점은 트래픽 볼륨, 대역폭, 네트워크 장애 등 변화하는 네트워크 조건에 대응

#### 주요 라우팅 프로토콜
- 내부 게이트웨이 프로토콜
	- 자율 시스템을 평가하고 다음과 같은 다양한 지표를 기준으로 라우팅과 관련한 결정을 내립니다.
	- 소스와 대상 간의 라우터 수
	- 지연 or 소스에서 대상으로 데이터를 전송하는 데 걸린 시간
	- 대역폭 또는 소스와 대상 간의 링크 용량
- 외부 게이트웨이 프로토콜
	- 가까운 ASN(Autonomous System Number)을 추적하고 대상 주소를 해당 ASN에 매핑